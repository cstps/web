/*!
 * Swap plugin for Sortable
 * @author: Oleg Ustinin
 * @license: MIT
 */
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(require("sortablejs")):"function"==typeof define&&define.amd?define(["sortablejs"],b):a.SortableSwap=b(a.Sortable)}(this,function(Sortable){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var pluginName="swap",defaults={swap:!1,swapClass:"sortable-swap-highlight"},SortableSwap=function(){function Swap() {_defineProperty(this,"startIndex",null);_defineProperty(this,"startDraggable",null)}var _proto=Swap.prototype;return _proto.pluginEvent=function(event){var evt=event.originalEvent,t=event.from,dragged=event.item,swapClass=event.options.swapClass||defaults.swapClass;if("dragStart"===event.type){this.startIndex=Sortable.utils.index(dragged),this.startDraggable=dragged}else if("dragOver"===event.type&&event.options.swap){var target=event.target;if(target&&target!==dragged&&target.parentNode===t){target.classList.add(swapClass)}else{var highlighted=t.querySelectorAll("."+swapClass);Array.prototype.forEach.call(highlighted,function(el){el.classList.remove(swapClass)})}}else if("dragEnd"===event.type){var highlighted2=t.querySelectorAll("."+swapClass);Array.prototype.forEach.call(highlighted2,function(el){el.classList.remove(swapClass)})}else if("drop"===event.type&&event.options.swap){var swapWith=event.target;if(swapWith&&swapWith!==dragged&&swapWith.parentNode===t){t.insertBefore(dragged,swapWith.nextSibling===dragged?swapWith:swapWith.nextSibling);t.insertBefore(swapWith,t.children[this.startIndex])}}},_proto.defaults=function(){return defaults},_proto.optionListeners=function(){return["swap","swapClass"]},Swap}();return Sortable.mount(new Sortable.Plugin(pluginName,new SortableSwap)),SortableSwap});
